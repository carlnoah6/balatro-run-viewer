# Balatro Run Viewer - Nginx config
# Add to existing server block or include from nginx.conf

location /balatro/api/ {
    proxy_pass http://127.0.0.1:8191/api/;
    proxy_set_header Host $host;
    proxy_set_header X-Real-IP $remote_addr;
    proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
    proxy_set_header X-Forwarded-Proto $scheme;
    client_max_body_size 10m;
}

location /balatro/game/ {
    proxy_pass http://127.0.0.1:8191/game/;
    proxy_set_header Host $host;
    proxy_set_header X-Real-IP $remote_addr;
    proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
    proxy_set_header X-Forwarded-Proto $scheme;
}

location /balatro/strategy/ {
    proxy_pass http://127.0.0.1:8191/strategy/;
    proxy_set_header Host $host;
    proxy_set_header X-Real-IP $remote_addr;
    proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
    proxy_set_header X-Forwarded-Proto $scheme;
}

location /balatro/screenshots/ {
    alias /home/ubuntu/balatro-screenshots/;
    expires 7d;
    add_header Cache-Control "public, immutable";
}

location /balatro/ {
    alias /home/ubuntu/.openclaw/workspace/projects/balatro-run-viewer/static/;
    index index.html;
    try_files $uri $uri/ /balatro/index.html;
}
